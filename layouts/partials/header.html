<div class="top-menu">


   
    <div class="search">
        <div class="sbef">Mockup:</div>
        <input autocomplete="off" class="sinput" id="filter-input" type="text" value="Αναζήτηση" />
        <button class="sbutton" id="filter-submit" type="button"><img src="/media/icons/mglass.svg" alt=""></button>
    </div>
  <div class="top-right-menu">

    <!--a href="#"><img style="margin-right:10px" width="32px" src="/media/icons/svg32/onedrive.svg" alt=""><span> OneDrive</span></a-->
    <a href="#"><img style="margin-right:10px" width="28px" src="/media/icons/svg32/help.svg" alt=""><span>Βοήθεια</span></a>
    <div class="plsite"><a href="#"><span class="material-icons" style="color:#eee;margin-right: 5px;">
      launch
      </span><span style="color:orange">Private</span> <span style="color:#ff4500;margin-left: 5px; margin-right: 3px;"> Label</span></a></div>
  </div>
  </div>
<div class="search-container" style="display: none;">
    <div class="search-results">
      <div class="search-header">
        <p class="spar"><span class="num-results nmoc"><b>0</b></span>PSD Mockups στην Αναζήτηση <span class="search-query"></span> <span class="sclose grid material-icons">close</span></p>
      </div></div>
     <ul class="search-list">
      {{range .Site.RegularPages}}
      
      <li>
        <a href="{{.Permalink}}" class="smockup">
          {{if isset .Params "image-high" }}<img src="{{ index .Params "image-high" }}" class="sfimg" alt="">
          {{ end }}
          <span class="stitle">{{ .Title }}<span style="display: none;">{{.File.LogicalName}}</span><span class="smeta" style="display: none;">{{ .Title }}</span></span>
          
        </a>
      </li>
  {{ end }}
    </ul>
</div >
 
<script>
    const searchContainer = document.querySelector('.search-container');
    const searchList = document.querySelector('.search-list');
    const searchInput = document.querySelector('.sinput');
    const numResults = document.querySelector('.num-results');
    const searchQuery = document.querySelector('.search-query');
    const closeButton = document.querySelector('.sclose');
    const searchResults = document.querySelector('.search-results');
    
    let searchTimeout;
    
    function filterResults() {
      const query = searchInput.value.toLowerCase();
      const results = searchList.querySelectorAll('li');
      let numShown = 0;
    
      for (let i = 0; i < results.length; i++) {
        const title = results[i].querySelector('.stitle').textContent.toLowerCase();
        if (title.includes(query)) {
          results[i].style.display = '';
          numShown++;
        } else {
          results[i].style.display = 'none';
        }
      }
    
      numResults.textContent = numShown;
      searchQuery.textContent = query;
    }
    
    searchInput.addEventListener('input', () => {
      if (searchTimeout) {
        clearTimeout(searchTimeout);
      }
    
      if (searchInput.value.length >= 2) {
        searchTimeout = setTimeout(() => {
          searchContainer.style.display = '';
          searchList.style.display = '';
          searchResults.style.display = '';
          filterResults();
        }, 300);
      } else {
        searchContainer.style.display = 'none';
      }
    });
    
    searchInput.addEventListener('keydown', (e) => {
      if (e.key === 'Backspace') {
        searchContainer.style.display = 'none';
        searchList.style.display = 'none';
        searchInput.value = '';
      }
    });
    
    closeButton.addEventListener('click', () => {
      searchContainer.style.display = 'none';
      searchList.style.display = 'none';
      searchInput.value = 'Αναζήτηση';
    });
    
    searchInput.addEventListener('click', () => {
      searchContainer.style.display = 'none';
      searchResults.style.display = 'none';
      searchInput.value = '';
    });
    $(".smeta").each(function () {
            var text = $(this).text();
            $(this).text(
                $(this)
                .text()
                .replace(/ά/g, "α")
                .replace(/έ/g, "ε")
                .replace(/ή/g, "η")
                .replace(/ί/g, "ι")
                .replace(/ό/g, "ο")
                .replace(/ύ/g, "υ")
                .replace(/ώ/g, "ω")
                .replace(/-/g, " ")
                /*.replace(/[^\w\s]/gi, " ")*/
            );
        });
</script>

<style>
  .search-container {
    display: grid;
    position: fixed;
    z-index: 20;
    top: 50;
    background: #111111;
    border: 2px solid #333;
    left: 390px;
    right: 30px;
    top: 130px;
    border-radius: 8px;
    padding: 0 15px;
    filter: drop-shadow(2px 10px 20px black);
}
ul.search-list {
    background: #111111;
    display: grid;
    padding: 0;
    
    min-height: 0;
    max-height: 735px;
    overflow: auto;
}
.search-list li {
    display: block;
    align-items: center;
}
a.smockup .fimg {
  display: none;
}
a.smockup {
    display: flex;
    align-items: center;
    gap: 15px;
    color: #eee;
    padding: 10px;
    background: #1e1e1e;
    border-radius: 6px;
    margin: 15px;
    font-size: 20px;
    text-transform: capitalize;
}
a.smockup:hover {
  background: #222;
}
img.sfimg {
    width: 70px;
    border-radius: 3px;
    border: 1.5px solid #444;
}
.spar {
  display: flex;
    align-items: center;
    gap: 15px;
    font-size: 20px;
    color: #eee;
}
span.search-query {
    display: flex;
    align-items: center;
    gap: 10px;
    height: 44px;
    padding: 0 20px;
    border-radius: 30px;
    border: 2px solid #333;
}
.search-results {
    position: relative;
    top: 0;
    margin: 10px 20px -20px;
}
span.num-results.nmoc {
    font-weight: bold;
}
span.sclose {
    font-size: 40px;
    background: #222;
    border-radius: 6px;
    padding: 4px;
    position: absolute;
    right: 0;
    cursor: pointer;
    transition: all .3s;
}
span.sclose:hover {
  background: rgb(170, 1, 1);
  transition: all .3s;
}
</style>